<div class="row">
    <div class="col-lg-2">
        <table>
            <tr *ngFor="let u of liveUserList">
                <td>
                    {{u.username}}
                </td>
                <td>
                    <button (click)="VideoCall(u)" *ngIf="(!isVideoCallAccepted || u.username==loggedUserName) && !u.busy" class="btn btn-success btn-sm">Video Call</button>
                </td>
                <td>
                    <button (click)="Chat(u)" *ngIf="(!isChat || u.username==loggedUserName) && !u.busy" class="btn btn-success btn-sm">Chat</button>
                </td>
            </tr>
        </table>
    </div>
    <div class="col-md-10" *ngIf="isVideoCallAccepted">
        <video-call [userType]="userType" [caller]="caller" (callback)="CallBack($event)">Loading</video-call>
    </div>
    <div class="col-md-10" *ngIf="isChat">
        <message [caller]="caller" (callback)="CallBack($event)"></message>
    </div>
</div>

<!-- The Modal -->
<div class="popup-box" *ngIf="isVideoCall">
    <div class="popup-content">
        <span (click)="Close()" class="popup-close">&times;</span>
        <div class="popup-header">
            <h4>{{callingInfo.name}}</h4>
            <h5>{{callingInfo.content}}</h5>
        </div>
        <div *ngIf="callingInfo.type == 'receiver'" style="text-align: center;">
            <button (click)="AcceptVideoCall()" class="btn btn-success btn-sm">Accept</button>
            <button (click)="RejectVideoCall()" class="btn btn-danger btn-sm">Reject</button>
        </div>
    </div>
</div>